<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.css" rel="stylesheet">
    <link rel="stylesheet" href="css/index.css">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="js/index.js"></script>
</head>

<body>
   <div id="box">
       <div class="box" :style="{width: width+'px',height: height+'px'}">
            <div class="item" style="left: 0px;top: 0px;" ref="box0"></div>
            <div class="item" style="left: 70px;top: 0px;" ref="box1"></div>
            <div class="item" style="left: 140px;top: 0px;" ref="box2"></div>
            <div class="item" style="left: 210px;top: 0px;" ref="box3"></div>
            <div class="item" style="left: 280px;top: 0px;" ref="box4"></div>
            <div class="item" style="left: 0px;top: 70px;" ref="box5"></div>
            <div class="item" style="left: 70px;top: 70px;" ref="box6"></div>
            <div class="item" style="left: 140px;top: 70px;" ref="box7"></div>
            <div class="item" style="left: 210px;top: 70px;" ref="box8"></div>
            <div class="item" style="left: 280px;top: 70px;" ref="box9"></div>
            <div class="item" style="left: 0px;top: 140px;" ref="box10"></div>
            <div class="item" style="left: 70px;top: 140px;" ref="box11"></div>
            <div class="item" style="left: 140px;top: 140px;" ref="box12"></div>
            <div class="item" style="left: 210px;top: 140px;" ref="box13"></div>
            <div class="item" style="left: 280px;top: 140px;" ref="box14"></div>
            <div class="item" style="left: 0px;top: 210px;" ref="box15"></div>
            <div class="item" style="left: 70px;top: 210px;" ref="box16"></div>
            <div class="item" style="left: 140px;top: 210px;" ref="box17"></div>
            <div class="item" style="left: 210px;top: 210px;" ref="box18"></div>
            <div class="item" style="left: 280px;top: 210px;" ref="box19"></div>
            <div class="item" style="left: 0px;top: 280px;" ref="box20"></div>
            <div class="item" style="left: 70px;top: 280px;" ref="box21"></div>
            <div class="item" style="left: 140px;top: 280px;" ref="box22"></div>
            <div class="item" style="left: 210px;top: 280px;" ref="box23"></div>
            <div class="item" style="left: 280px;top: 280px;" ref="box24"></div>
        </div>
        <button type="button" @click="move">start</button>
   </div>
    
    <script>
        var app=new Vue({
            el: '#box',
            data: {
                width:340,
                height:340,
                list: [
                    {left:0,top:0},{left:70,top:0},{left:140,top:0},{left:210,top:0},{left:280,top:0},
                    {left:0,top:70},{left:70,top:70},{left:140,top:70},{left:210,top:70},{left:280,top:70},
                    {left:0,top:140},{left:70,top:140},{left:140,top:140},{left:210,top:140},{left:280,top:140},
                    {left:0,top:210},{left:70,top:210},{left:140,top:210},{left:210,top:210},{left:280,top:210},
                    {left:0,top:280},{left:70,top:280},{left:140,top:280},{left:210,top:280},{left:280,top:280}
                ]
            },
            methods: {
                move: function(){
                    var that=this;
                    var times=0;
                    clearInterval(timer);
                    var timer=setInterval(function(){
                        startMove();
                        startMove();
                        startMove();
                        startMove();
                        if(times==12){
                            clearInterval(timer);
                            return
                        }
                        times++;
                    },300)
                    
                    function startMove(){
                        var num1=Math.round(Math.random()*24);
                        var num2=Math.round(Math.random()*24);
                        if(num1==num2){
                            num2=Math.round(Math.random()*24);
                        }
                        var obj={};
                        var boxref1='box'+num1;
                        obj.left=that.$refs[boxref1].style.left;
                        obj.top=that.$refs[boxref1].style.top;
                        var boxref2='box'+num2;
                        that.$refs[boxref1].style.left=that.$refs[boxref2].style.left;
                        that.$refs[boxref1].style.top=that.$refs[boxref2].style.top;
                        that.$refs[boxref2].style.left=obj.left;
                        that.$refs[boxref2].style.top=obj.top;
                    }
                   
                }
            }
        })
    </script>
</body>

</html>
